# 팔자냥 개발 체크리스트

> 작성일: 2025-01-15
> 최종 업데이트: 2025-01-16
> 상태: MVP 개발 중

---

## 기능 우선순위

| 우선순위 | 기능 | 설명 | 상태 |
|----------|------|------|------|
| P0 | 개인 사주 | 사주팔자 + 인생 전체 분석 | **UI 완료** |
| P0 | 신년운세 | 세운 + 월운 기반 올해 월별 운세 | UI 완료 |
| P0 | 궁합 | 두 사람의 사주 궁합 분석 | UI 완료 |
| P0 | 연애운 | 연애/결혼 관련 운세 | UI 완료 |
| P0 | 만세력 미리보기 | 결제 전 사주팔자 무료 확인 | **UI 완료** |
| P0 | 인스타 공유 | 결과 카드 이미지 공유 | 대기 |
| P2 | 오늘의 운세 | 무료, 일일 재방문 유도 | 대기 |
| P2 | 구독 모델 | 월간 구독 | 대기 |
| P2 | 푸시 알림 | 운세 알림 | 대기 |

---

## Phase 1: MVP (v1.0)

### 프로젝트 셋업
- [x] Next.js 프로젝트 생성 ✅ (2025-01-16)
- [x] lunar-typescript 설치 및 연동 ✅ (2025-01-16)
- [x] TailwindCSS v4 디자인 시스템 설정 ✅ (2025-01-16)
- [x] Supabase 클라이언트 및 타입 설정 ✅ (2025-01-16)
- [x] DB 스키마 SQL 마이그레이션 파일 작성 ✅ (2025-01-16)
- [x] Supabase 프로젝트 생성 및 스키마 적용 ✅ (2025-01-16)
- [x] 환경 변수 설정 (OpenAI, Supabase) ✅ (2025-01-16)
- [x] Vercel 배포 설정 ✅ (2025-01-16) - https://bazi-azure.vercel.app

### 인증
- [x] Supabase Auth 연동 ✅ (2025-01-16)
- [x] 회원가입 페이지 ✅ (2025-01-16)
- [x] 로그인 페이지 ✅ (2025-01-16)
- [x] 이메일 로그인/회원가입 ✅ (2025-01-16)
- [x] 카카오 로그인 ✅ (2025-01-16)
- [x] 구글 로그인 ✅ (2025-01-16)

### 사주 계산 엔진 (TypeScript)
- [x] lunar-typescript 사주팔자 계산 구현 ✅ (2025-01-16)
- [x] 오행 분석 로직 구현 ✅ (2025-01-16)
- [x] 십신 계산 로직 구현 ✅ (2025-01-16)
- [x] 대운 계산 로직 구현 ✅ (2025-01-16)
- [x] 사주팔자 API Route 생성 ✅ (POST /api/saju/calculate)
- [ ] 궁합 계산 API Route 생성

### LLM 해석
- [x] 프롬프트 설계 (개인 사주)
- [x] 프롬프트 설계 (신년운세)
- [x] 프롬프트 설계 (궁합)
- [x] 프롬프트 설계 (연애운)
- [x] LLM API 연동 (OpenAI GPT-4o-mini) ✅ (2025-01-16)

### 코인 시스템
- [x] 코인 잔액 관리 API ✅ (2025-01-16)
- [x] 코인 패키지 목록 API ✅ (2025-01-16)
- [x] 코인 충전 페이지 ✅ (2025-01-16)

### 결제
- [x] 토스페이먼츠 SDK 연동 ✅ (2025-01-16)
- [x] 코인 충전 플로우 UI ✅ (2025-01-16)
- [x] 결제 성공/실패 페이지 ✅ (2025-01-16)
- [ ] 토스페이먼츠 실결제 테스트 (API 키 설정 필요)
- [ ] 카카오페이 연동

### 화면 개발
- [x] 랜딩 페이지 ✅ (2025-01-16)
- [x] 홈 페이지 (사주 유형 선택) ✅ (2025-01-16)
- [x] 정보 입력 페이지 ✅ (2025-01-16)
- [x] 만세력 미리보기 페이지 (결제 유도) ✅ (2025-01-16)
- [x] 결과 페이지 (개인 사주) ✅ (2025-01-16)
- [x] 마이페이지 (과거 기록, 코인 잔액) ✅ (2025-01-16)
- [x] 코인 충전 페이지 ✅ (2025-01-16)
- [x] 결제 성공/실패 페이지 ✅ (2025-01-16)
- [ ] 결과 페이지 (신년운세 - 월별)

### 공유 기능
- [ ] 결과 카드 이미지 생성
- [ ] 인스타 공유 버튼
- [ ] 공유 리워드 로직

---

## Phase 2: 개선 (v1.1)

- [ ] 카카오페이 추가
- [ ] 오늘의 운세 (무료)
- [ ] 푸시 알림
- [ ] 성능 최적화
- [ ] 버그 수정

---

## Phase 3: 확장 (v2.0)

- [ ] 영어 지원 (미국 시장)
- [ ] 구독 모델 구현
- [ ] 힌디어 지원 (인도 시장)
- [ ] 추가 사주 유형

---

## 문서 작업

- [x] PRD 작성
- [x] 경쟁사 분석
- [x] 사주 라이브러리 조사
- [x] 와이어프레임/화면 설계
- [x] DB 스키마 설계
- [x] LLM 프롬프트 설계
- [x] API 명세서

## 개발 준비

- [x] Python 사주 라이브러리 조사 (lunar_python 기능 확인)
- [x] TypeScript 라이브러리 조사 ✅ (lunar-typescript = lunar_python 100% 동일)
- [x] 기술 스택 비용 비교 분석 ✅ (Next.js + Supabase + Vercel 확정)
- [x] 프로젝트 초기 셋업 (Next.js + lunar-typescript) ✅ (2025-01-16)
- [x] 경쟁사/트렌드 UI/UX 분석 ✅ (2025-01-16)
- [x] 디자인 시스템 문서화 ✅ (design_system.md, DESIGN_SUMMARY.md)

---

## 구현된 컴포넌트 (2025-01-16)

### UI 컴포넌트 (`src/components/ui/`)
- [x] Button (primary, secondary, ghost variants)
- [x] Input (라벨, 에러, 힌트 지원)
- [x] Select (드롭다운)
- [x] Card (default, highlighted variants)

### 레이아웃 컴포넌트 (`src/components/layout/`)
- [x] Header (로고, 뒤로가기, 로그인 상태)

### Supabase (`src/lib/supabase/`)
- [x] client.ts (브라우저 클라이언트)
- [x] server.ts (서버 클라이언트)
- [x] middleware.ts (세션 갱신)

### LLM (`src/lib/llm/`)
- [x] prompts.ts (시스템 프롬프트, 사주 유형별 프롬프트)

### Hooks (`src/hooks/`)
- [x] useAuth.ts (인증 상태 관리)

### 타입 (`src/types/`)
- [x] database.ts (Supabase 테이블 타입)
- [x] saju.ts (사주 결과 타입)

### 페이지 구조
```
/ (랜딩페이지)
├── /auth/login (시작하기 - 소셜로그인/이메일)
├── /auth/email-login (이메일 로그인)
├── /auth/signup (이메일 회원가입)
├── /auth/callback (OAuth 콜백)
├── /home (사주 유형 선택)
│     └── /saju/[type] (정보 입력)
│           └── /saju/preview (만세력 미리보기)
│                 └── /saju/result (결과 페이지)
├── /mypage (마이페이지)
├── /coin (코인 충전)
└── /payment/success, /payment/fail (결제 결과)
```

### SQL 마이그레이션
- [x] supabase/migrations/001_initial_schema.sql (전체 스키마)

---

## 🚧 MVP 출시 전 필수 작업

### 높은 우선순위
- [x] 카카오 로그인 설정 ✅ (2025-01-16)
- [x] 구글 로그인 설정 ✅ (2025-01-16)
- [x] 코인 차감 로직 연결 ✅ (2025-01-16)
- [x] Vercel 배포 및 도메인 연결 ✅ (2025-01-16) - https://bazi-azure.vercel.app
- [ ] 토스페이먼츠 API 키 설정 및 실결제 테스트

### 중간 우선순위
- [ ] 궁합 계산 API 및 결과 페이지
- [ ] 신년운세 월별 결과 페이지
- [ ] 이용약관/개인정보처리방침 페이지
- [ ] 에러 처리 및 로딩 상태 개선

### 낮은 우선순위 (출시 후)
- [ ] 결과 카드 이미지 생성 (공유용)
- [ ] 인스타/카카오 공유 기능
- [ ] 카카오페이 결제 추가
- [ ] 푸시 알림
